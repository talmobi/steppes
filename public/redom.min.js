!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,r,o=0,u=0,s=0;s<=e.length;s++){var f=e.charCodeAt(s);if(f===v||f===p||!f){if(0===o)n=0===s?"div":f?e.substring(u,s):e;else{var l=e.substring(u,s);1===o?i=l:r?r+=" "+l:r=l}u=s+1,o=f===v?1:2}}var d=t?document.createElementNS(t,n):document.createElement(n);return i&&(d.id=i),r&&(t?d.setAttribute("class",r):d.className=r),d}function n(e){return document.createTextNode(e)}function i(e,t,n){var i=e.el||e,r=t.el||t;return r.__redom_list&&(r=r.el),t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),t.isMounted?t.remount&&t.remount():t.mount&&t.mount(),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),t}function r(e,t){var n=e.el||e,i=t.el||t;return t===i&&i.__redom_view&&(t=i.__redom_view),t.unmount&&t.unmount(),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted(),t}function o(e){var r,o=arguments;if("string"==typeof e)r=(c[e]||(c[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var s=!0,f=1;f<arguments.length;f++){var l=o[f];if(l)if("function"==typeof l)l(r);else if("string"==typeof l||"number"==typeof l)s?(s=!1,r.textContent=l):r.appendChild(n(l));else if(l.nodeType||l.el&&l.el.nodeType)s=!1,i(r,l);else if(l.length){s=!1;for(var d=0;d<l.length;d++)i(r,l[d])}else"object"==typeof l&&u(r,l)}return r}function u(e,t,n){var i=e.el||e,r=i instanceof SVGElement;if(arguments.length>2)"style"===t?s(i,n):r&&"function"==typeof n?i[t]=n:!r&&(t in i||"function"==typeof n)?i[t]=n:i.setAttribute(t,n);else for(var o in t)u(i,o,t[o])}function s(e,t,n){var i=e.el||e;if(arguments.length>2)i.style[t]=n;else if("string"==typeof t)i.setAttribute("style",t);else for(var r in t)s(i,r,t[r])}function f(e,t){if(null==t.length)return f(e,[t]);for(var n=e.el||e,o=n.firstChild,u=0;u<t.length;u++){var s=t[u];if(s){var l=s.el||s;l.__redom_list&&(l=l.el),l!==o?i(e,s,o):o=o.nextSibling}}for(;o;){var d=o.nextSibling;r(e,o),o=d}}function l(e,t,n,i){return new d(e,t,n,i)}function d(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?o(e):e,n&&(this.lookup={})}function a(e,t){return new y(e,t)}function h(e){var r,o=arguments;if("string"==typeof e)r=(g[e]||(g[e]=t(e,_))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var s=!0,f=1;f<arguments.length;f++){var l=o[f];l&&("function"==typeof l?l=l(r):"string"==typeof l||"number"==typeof l?s?(s=!1,r.textContent=l):r.appendChild(n(l)):l.nodeType||l.el&&l.el.nodeType?(s=!1,i(r,l)):"object"==typeof l&&u(r,l))}return r}var v="#".charCodeAt(0),p=".".charCodeAt(0),c={};o.extend=function(e){var n=c[e]||(c[e]=t(e));return o.bind(this,n)};var m=o;d.extend=function(e,t,n,i){return d.bind(d,e,t,n,i)},l.extend=d.extend,d.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,i="function"==typeof n,r=this.initData,o=new Array(e.length),u=this.views,s=n&&{},l=n&&this.lookup,d=0;d<e.length;d++){var a=e[d],h=void 0;if(n){var v=i?n(a):a[n];h=o[d]=l[v]||new t(r,a,d,e),s[v]=h,h.__id=v}else h=o[d]=u[d]||new t(r,a,d,e);var p=h.el;p.__redom_list&&(p=p.el),p.__redom_view=h,h.update&&h.update(a,d,e)}f(this,o),n&&(this.lookup=s),this.views=o};var y=function(e,t){this.el="string"==typeof e?o(e):e,this.Views=t};y.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,i=n[e];this.view=i&&new i,this.route=e,f(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var _="http://www.w3.org/2000/svg",g={};h.extend=function(e){var n=g[e]||(g[e]=t(e,_));return h.bind(this,n)},e.el=o,e.html=m,e.setAttr=u,e.setStyle=s,e.list=l,e.List=d,e.mount=i,e.unmount=r,e.router=a,e.Router=y,e.setChildren=f,e.svg=h,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});